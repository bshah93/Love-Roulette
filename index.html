<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#ec4899">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Love Roulette</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }
        * {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }
        input, textarea {
            -webkit-user-select: text;
            user-select: text;
        }
        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.15); }
        }
        @keyframes diceRoll {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.1); }
            50% { transform: rotate(180deg) scale(1); }
            75% { transform: rotate(270deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        @keyframes heartPulse {
            0%, 100% { transform: scale(1) translateY(0px); }
            25% { transform: scale(1.15) translateY(-5px); }
            50% { transform: scale(1) translateY(0px); }
            75% { transform: scale(1.1) translateY(-3px); }
        }
        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }
        .heart-dice {
            animation: heartBeat 2s ease-in-out infinite;
        }
        .dice-rolling {
            animation: diceRoll 1s ease-in-out;
        }
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        .heart-pulse {
            animation: heartPulse 1.5s ease-in-out infinite;
        }
        .heart-shake {
            animation: shake 0.5s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Lucide React Icons as inline SVG components
        const Heart = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
        );

        const Play = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const Plus = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
            </svg>
        );

        const Trash2 = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
        );

        const Clock = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const Sparkles = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
            </svg>
        );

        const SkipForward = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 4v16l13-8L5 4zM19 5v14" />
            </svg>
        );

        const Edit = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
        );

        const Check = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
            </svg>
        );

        // Pulsing Heart Logo Component
        const PulsingHeart = ({ size = "w-12 h-12" }) => (
            <div className={`${size} heart-pulse heart-shake`}>
                <svg viewBox="0 0 24 24" className="w-full h-full text-red-500 fill-red-500">
                    <path d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                </svg>
            </div>
        );

        // Animated Heart Dice Component
        const HeartDice = ({ size = "w-20 h-20", isRolling = false }) => (
            <div className={`relative ${size} ${isRolling ? 'dice-rolling' : 'heart-dice floating'}`}>
                <svg viewBox="0 0 100 100" className="w-full h-full">
                    {/* Dice background - rounded square */}
                    <rect x="10" y="10" width="80" height="80" rx="15" 
                          fill="url(#gradient)" 
                          stroke="#ff1493" 
                          strokeWidth="2"/>
                    
                    {/* Gradient definition */}
                    <defs>
                        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style={{stopColor: '#ff69b4', stopOpacity: 1}} />
                            <stop offset="100%" style={{stopColor: '#ff1493', stopOpacity: 1}} />
                        </linearGradient>
                    </defs>
                    
                    {/* Heart symbol in center */}
                    <path 
                        d="M 50 35 
                           C 50 30, 45 25, 40 25
                           C 35 25, 30 28, 30 35
                           C 30 42, 35 47, 50 60
                           C 65 47, 70 42, 70 35
                           C 70 28, 65 25, 60 25
                           C 55 25, 50 30, 50 35 Z"
                        fill="white"
                        stroke="none"
                    />
                    
                    {/* Dice dots in corners for decoration */}
                    <circle cx="20" cy="20" r="2.5" fill="white" opacity="0.6"/>
                    <circle cx="80" cy="20" r="2.5" fill="white" opacity="0.6"/>
                    <circle cx="20" cy="80" r="2.5" fill="white" opacity="0.6"/>
                    <circle cx="80" cy="80" r="2.5" fill="white" opacity="0.6"/>
                </svg>
            </div>
        );

        // Animated Couple Silhouette using uploaded image
        const CoupleSilhouette = () => {
            const silhouetteBase64 = "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";
            
            return (
                <div className="relative w-40 h-40 mx-auto" style={{animation: 'intimateBreathing 4s ease-in-out infinite'}}>
                    <img 
                        src={`data:image/jpeg;base64,${silhouetteBase64}`}
                        alt="Couple Silhouette"
                        className="w-full h-full object-contain"
                        style={{
                            filter: 'contrast(1.2) brightness(0.9)',
                        }}
                    />
                    <style>{`
                        @keyframes intimateBreathing {
                            0%, 100% { 
                                transform: scale(1) translateY(0px);
                                opacity: 0.85;
                            }
                            25% { 
                                transform: scale(1.03) translateY(-3px);
                                opacity: 0.9;
                            }
                            50% { 
                                transform: scale(1) translateY(0px);
                                opacity: 0.85;
                            }
                            75% { 
                                transform: scale(1.02) translateY(-2px);
                                opacity: 0.88;
                            }
                        }
                    `}</style>
                </div>
            );
        };

        // Audio notification - Sexy chime
        const playNotification = () => {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            // Create three tones for a chord progression
            const playTone = (frequency, startTime, duration) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = frequency;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.2, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration);
                
                oscillator.start(startTime);
                oscillator.stop(startTime + duration);
            };
            
            const now = audioContext.currentTime;
            // Sensual ascending chord: C - E - G
            playTone(523.25, now, 0.4);        // C5
            playTone(659.25, now + 0.15, 0.5); // E5
            playTone(783.99, now + 0.3, 0.6);  // G5
        };

        function LoveRoulette() {
            const [screen, setScreen] = useState('welcome');
            const [maleName, setMaleName] = useState('');
            const [femaleName, setFemaleName] = useState('');
            const [activitiesForHim, setActivitiesForHim] = useState([]);
            const [activitiesForHer, setActivitiesForHer] = useState([]);
            const [activitiesBoth, setActivitiesBoth] = useState([]);
            const [positions, setPositions] = useState([]);
            const [finishers, setFinishers] = useState([]);
            const [selectedFinisher, setSelectedFinisher] = useState('');
            
            const [currentActivity, setCurrentActivity] = useState('');
            const [currentType, setCurrentType] = useState(''); // 'him', 'her', 'position', 'finisher'
            const [isFinisher, setIsFinisher] = useState(false);
            const [timeRemaining, setTimeRemaining] = useState(0);
            const [isRunning, setIsRunning] = useState(false);
            const [isBreak, setIsBreak] = useState(false);
            const [breakTime, setBreakTime] = useState(8);
            const [roundNumber, setRoundNumber] = useState(1);
            
            const [himInput, setHimInput] = useState('');
            const [herInput, setHerInput] = useState('');
            const [bothInput, setBothInput] = useState('');
            const [positionInput, setPositionInput] = useState('');
            const [finisherInput, setFinisherInput] = useState('');
            
            const [gameSequence, setGameSequence] = useState([]);
            const [sequenceIndex, setSequenceIndex] = useState(0);
            
            const [isRolling, setIsRolling] = useState(false);
            
            const timerRef = useRef(null);
            const breakTimerRef = useRef(null);

            // Timer logic
            useEffect(() => {
                if (isRunning && timeRemaining > 0) {
                    timerRef.current = setInterval(() => {
                        setTimeRemaining(prev => {
                            if (prev <= 1) {
                                playNotification();
                                startBreak();
                                return 0;
                            }
                            return prev - 1;
                        });
                    }, 1000);
                } else {
                    if (timerRef.current) clearInterval(timerRef.current);
                }
                return () => {
                    if (timerRef.current) clearInterval(timerRef.current);
                };
            }, [isRunning, timeRemaining]);

            // Break timer logic
            useEffect(() => {
                if (isBreak && breakTime > 0) {
                    breakTimerRef.current = setInterval(() => {
                        setBreakTime(prev => {
                            if (prev <= 1) {
                                startNextActivity();
                                return 8;
                            }
                            return prev - 1;
                        });
                    }, 1000);
                } else {
                    if (breakTimerRef.current) clearInterval(breakTimerRef.current);
                }
                return () => {
                    if (breakTimerRef.current) clearInterval(breakTimerRef.current);
                };
            }, [isBreak, breakTime]);

            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            };

            const getRandomDuration = (type) => {
                if (type === 'finisher') {
                    return Math.floor(Math.random() * (300 - 120 + 1)) + 120; // 2-5 min
                }
                return Math.floor(Math.random() * (300 - 60 + 1)) + 60; // 1-5 min
            };

            const shuffleArray = (array) => {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            };

            const buildGameSequence = () => {
                const sequence = [];
                
                // Select finisher to display (not in rotation)
                const randomFinisher = finishers[Math.floor(Math.random() * finishers.length)];
                setSelectedFinisher(randomFinisher);
                
                // Shuffle activities
                const shuffledHim = shuffleArray(activitiesForHim);
                const shuffledHer = shuffleArray(activitiesForHer);
                const shuffledBoth = shuffleArray(activitiesBoth);
                const shuffledPositions = shuffleArray(positions);
                
                // OPENING: 3-4 activities before any positions
                const openingCount = Math.floor(Math.random() * 2) + 3; // 3 or 4
                const allActivities = [
                    ...shuffledHim.map(a => ({ text: a, type: 'him' })),
                    ...shuffledHer.map(a => ({ text: a, type: 'her' })),
                    ...shuffledBoth.map(a => ({ text: a, type: 'both' }))
                ];
                const shuffledAllActivities = shuffleArray(allActivities);
                
                // Add opening activities
                for (let i = 0; i < Math.min(openingCount, shuffledAllActivities.length); i++) {
                    sequence.push(shuffledAllActivities[i]);
                }
                
                // Track which activities we've used
                let himIndex = shuffledHim.findIndex(a => sequence.some(s => s.text === a && s.type === 'him')) + 1;
                let herIndex = shuffledHer.findIndex(a => sequence.some(s => s.text === a && s.type === 'her')) + 1;
                let bothIndex = shuffledBoth.findIndex(a => sequence.some(s => s.text === a && s.type === 'both')) + 1;
                let posIndex = 0;
                
                // MAIN LOOP: 2-3 positions â†’ male activity â†’ 2-3 positions â†’ female activity
                let useMale = true;
                while (posIndex < shuffledPositions.length) {
                    const positionsBeforeActivity = Math.floor(Math.random() * 2) + 2; // 2 or 3
                    
                    // Add 2-3 positions
                    for (let i = 0; i < positionsBeforeActivity && posIndex < shuffledPositions.length; i++) {
                        sequence.push({ text: shuffledPositions[posIndex], type: 'position' });
                        posIndex++;
                    }
                    
                    // Add activity (alternate between male and female, with both mixed in)
                    if (Math.random() < 0.2 && bothIndex < shuffledBoth.length) {
                        // 20% chance for "both" activity
                        sequence.push({ text: shuffledBoth[bothIndex], type: 'both' });
                        bothIndex++;
                    } else if (useMale && himIndex < shuffledHim.length) {
                        sequence.push({ text: shuffledHim[himIndex], type: 'him' });
                        himIndex++;
                        useMale = false;
                    } else if (!useMale && herIndex < shuffledHer.length) {
                        sequence.push({ text: shuffledHer[herIndex], type: 'her' });
                        herIndex++;
                        useMale = true;
                    } else {
                        // Fallback to any available activity
                        if (himIndex < shuffledHim.length) {
                            sequence.push({ text: shuffledHim[himIndex], type: 'him' });
                            himIndex++;
                        } else if (herIndex < shuffledHer.length) {
                            sequence.push({ text: shuffledHer[herIndex], type: 'her' });
                            herIndex++;
                        } else if (bothIndex < shuffledBoth.length) {
                            sequence.push({ text: shuffledBoth[bothIndex], type: 'both' });
                            bothIndex++;
                        }
                        useMale = !useMale;
                    }
                }
                
                return sequence;
            };

            const startGame = () => {
                if (activitiesForHim.length === 0 && activitiesForHer.length === 0 && activitiesBoth.length === 0) {
                    alert('Please add at least one activity!');
                    return;
                }
                if (positions.length === 0) {
                    alert('Please add at least one position!');
                    return;
                }
                if (finishers.length === 0) {
                    alert('Please add at least one finisher option!');
                    return;
                }
                setScreen('game');
                startNewRound();
            };

            const startNewRound = () => {
                const newSequence = buildGameSequence();
                setGameSequence(newSequence);
                setSequenceIndex(0);
                setIsBreak(true);
                setBreakTime(8);
                const firstItem = newSequence[0];
                setCurrentActivity(firstItem.text);
                setCurrentType(firstItem.type);
                setIsFinisher(false);
            };

            const startBreak = () => {
                setIsRunning(false);
                setIsRolling(true);
                setTimeout(() => setIsRolling(false), 1000); // Roll animation lasts 1 second
                
                // Get the NEXT activity to show during break
                const nextIndex = sequenceIndex + 1;
                
                if (nextIndex >= gameSequence.length) {
                    // Round complete, start new round
                    setRoundNumber(prev => prev + 1);
                    const newSequence = buildGameSequence();
                    setGameSequence(newSequence);
                    setSequenceIndex(0);
                    const firstItem = newSequence[0];
                    setCurrentActivity(firstItem.text);
                    setCurrentType(firstItem.type);
                    setIsBreak(true);
                    setBreakTime(8);
                } else {
                    // Show what's coming next
                    const nextItem = gameSequence[nextIndex];
                    setCurrentActivity(nextItem.text);
                    setCurrentType(nextItem.type);
                    setSequenceIndex(nextIndex); // Update index during break
                    setIsBreak(true);
                    setBreakTime(8);
                }
            };

            const forceStart = () => {
                setIsBreak(false);
                setBreakTime(8);
                startNextActivity();
            };

            const skipToNext = () => {
                playNotification();
                setIsRunning(false);
                startBreak();
            };

            const startNextActivity = () => {
                // Activity is already set from break, just start the timer
                setTimeRemaining(getRandomDuration(currentType));
                setIsRunning(true);
                setIsBreak(false);
            };

            const addActivityForHim = () => {
                if (himInput.trim()) {
                    setActivitiesForHim([...activitiesForHim, himInput.trim()]);
                    setHimInput('');
                }
            };

            const removeActivityForHim = (index) => {
                setActivitiesForHim(activitiesForHim.filter((_, i) => i !== index));
            };

            const addActivityForHer = () => {
                if (herInput.trim()) {
                    setActivitiesForHer([...activitiesForHer, herInput.trim()]);
                    setHerInput('');
                }
            };

            const removeActivityForHer = (index) => {
                setActivitiesForHer(activitiesForHer.filter((_, i) => i !== index));
            };

            const addActivityBoth = () => {
                if (bothInput.trim()) {
                    setActivitiesBoth([...activitiesBoth, bothInput.trim()]);
                    setBothInput('');
                }
            };

            const removeActivityBoth = (index) => {
                setActivitiesBoth(activitiesBoth.filter((_, i) => i !== index));
            };

            const addPosition = () => {
                if (positionInput.trim()) {
                    setPositions([...positions, positionInput.trim()]);
                    setPositionInput('');
                }
            };

            const removePosition = (index) => {
                setPositions(positions.filter((_, i) => i !== index));
            };

            const addFinisher = () => {
                if (finisherInput.trim()) {
                    setFinishers([...finishers, finisherInput.trim()]);
                    setFinisherInput('');
                }
            };

            const removeFinisher = (index) => {
                setFinishers(finishers.filter((_, i) => i !== index));
            };

            // Welcome Screen
            if (screen === 'welcome') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-pink-500 via-red-500 to-purple-600 p-4 flex items-center justify-center">
                        <div className="w-full max-w-md bg-white rounded-3xl shadow-2xl p-6 space-y-6">
                            <div className="text-center space-y-2">
                                <div className="flex justify-center mb-4">
                                    <HeartDice size="w-24 h-24" />
                                </div>
                                <h1 className="text-3xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent">
                                    Love Roulette
                                </h1>
                                <p className="text-gray-600">Where Passion Meets Play ðŸ”¥</p>
                            </div>

                            <div className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">His Name</label>
                                    <input
                                        type="text"
                                        value={maleName}
                                        onChange={(e) => setMaleName(e.target.value)}
                                        className="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-pink-500 focus:outline-none text-lg"
                                        placeholder="Enter name"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Her Name</label>
                                    <input
                                        type="text"
                                        value={femaleName}
                                        onChange={(e) => setFemaleName(e.target.value)}
                                        className="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-pink-500 focus:outline-none text-lg"
                                        placeholder="Enter name"
                                    />
                                </div>

                                <button
                                    onClick={() => {
                                        if (maleName.trim() && femaleName.trim()) {
                                            setScreen('setup');
                                        } else {
                                            alert('Please enter both names!');
                                        }
                                    }}
                                    className="w-full bg-gradient-to-r from-pink-500 to-red-500 text-white py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all"
                                >
                                    Continue
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Setup Screen
            if (screen === 'setup') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-pink-500 via-red-500 to-purple-600 p-4 overflow-y-auto pb-8">
                        <div className="w-full max-w-md mx-auto bg-white rounded-3xl shadow-2xl p-6 space-y-6 my-4">
                            <div className="text-center">
                                <h2 className="text-2xl font-bold text-gray-800">Customize Your Experience</h2>
                                <p className="text-gray-600 text-sm mt-1">Add your preferences below</p>
                            </div>

                            {/* Activities for HIM */}
                            <div className="space-y-3">
                                <h3 className="text-lg font-semibold text-gray-800 flex items-center gap-2">
                                    <Sparkles className="w-5 h-5 text-blue-500" />
                                    Activities for {maleName}
                                </h3>
                                <p className="text-xs text-gray-500">What {maleName} will perform on {femaleName}</p>
                                
                                <div className="flex gap-2">
                                    <input
                                        type="text"
                                        value={himInput}
                                        onChange={(e) => setHimInput(e.target.value)}
                                        onKeyPress={(e) => e.key === 'Enter' && addActivityForHim()}
                                        className="flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                        placeholder="e.g., Cunnilingus"
                                    />
                                    <button
                                        onClick={addActivityForHim}
                                        className="bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600 transition-colors"
                                    >
                                        <Plus className="w-6 h-6" />
                                    </button>
                                </div>

                                {/* Quick select presets */}
                                <div className="flex flex-wrap gap-2">
                                    {['Lick Her Pussy', 'Rimming', 'Suck Her Nipples', 'Finger Pussy', 'Sit On His Face'].map((preset) => (
                                        <button
                                            key={preset}
                                            onClick={() => {
                                                if (!activitiesForHim.includes(preset)) {
                                                    setActivitiesForHim([...activitiesForHim, preset]);
                                                }
                                            }}
                                            className="px-3 py-1 text-xs bg-blue-50 text-blue-700 rounded-full hover:bg-blue-100 transition-colors border border-blue-200"
                                        >
                                            + {preset}
                                        </button>
                                    ))}
                                </div>

                                <div className="space-y-2 max-h-32 overflow-y-auto">
                                    {activitiesForHim.map((activity, index) => (
                                        <div key={index} className="flex items-center justify-between bg-blue-50 p-3 rounded-lg">
                                            <span className="text-gray-800 flex-1 text-sm">{activity}</span>
                                            <button
                                                onClick={() => removeActivityForHim(index)}
                                                className="text-red-500 hover:text-red-700 transition-colors"
                                            >
                                                <Trash2 className="w-4 h-4" />
                                            </button>
                                        </div>
                                    ))}
                                </div>
                                <p className="text-xs text-gray-500">{activitiesForHim.length} activities added</p>
                            </div>

                            {/* Activities for HER */}
                            <div className="space-y-3">
                                <h3 className="text-lg font-semibold text-gray-800 flex items-center gap-2">
                                    <Sparkles className="w-5 h-5 text-pink-500" />
                                    Activities for {femaleName}
                                </h3>
                                <p className="text-xs text-gray-500">What {femaleName} will perform on {maleName}</p>
                                
                                <div className="flex gap-2">
                                    <input
                                        type="text"
                                        value={herInput}
                                        onChange={(e) => setHerInput(e.target.value)}
                                        onKeyPress={(e) => e.key === 'Enter' && addActivityForHer()}
                                        className="flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-pink-500 focus:outline-none"
                                        placeholder="e.g., Blowjob"
                                    />
                                    <button
                                        onClick={addActivityForHer}
                                        className="bg-pink-500 text-white p-2 rounded-lg hover:bg-pink-600 transition-colors"
                                    >
                                        <Plus className="w-6 h-6" />
                                    </button>
                                </div>

                                {/* Quick select presets */}
                                <div className="flex flex-wrap gap-2">
                                    {['Blowjob', 'Handjob', 'Titty Job', 'Footjob'].map((preset) => (
                                        <button
                                            key={preset}
                                            onClick={() => {
                                                if (!activitiesForHer.includes(preset)) {
                                                    setActivitiesForHer([...activitiesForHer, preset]);
                                                }
                                            }}
                                            className="px-3 py-1 text-xs bg-pink-50 text-pink-700 rounded-full hover:bg-pink-100 transition-colors border border-pink-200"
                                        >
                                            + {preset}
                                        </button>
                                    ))}
                                </div>

                                <div className="space-y-2 max-h-32 overflow-y-auto">
                                    {activitiesForHer.map((activity, index) => (
                                        <div key={index} className="flex items-center justify-between bg-pink-50 p-3 rounded-lg">
                                            <span className="text-gray-800 flex-1 text-sm">{activity}</span>
                                            <button
                                                onClick={() => removeActivityForHer(index)}
                                                className="text-red-500 hover:text-red-700 transition-colors"
                                            >
                                                <Trash2 className="w-4 h-4" />
                                            </button>
                                        </div>
                                    ))}
                                </div>
                                <p className="text-xs text-gray-500">{activitiesForHer.length} activities added</p>
                            </div>

                            {/* Activities for BOTH */}
                            <div className="space-y-3">
                                <h3 className="text-lg font-semibold text-gray-800 flex items-center gap-2">
                                    <Heart className="w-5 h-5 text-purple-500 fill-purple-500" />
                                    Both Together
                                </h3>
                                <p className="text-xs text-gray-500">Activities you both perform simultaneously</p>
                                
                                <div className="flex gap-2">
                                    <input
                                        type="text"
                                        value={bothInput}
                                        onChange={(e) => setBothInput(e.target.value)}
                                        onKeyPress={(e) => e.key === 'Enter' && addActivityBoth()}
                                        className="flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"
                                        placeholder="e.g., 69"
                                    />
                                    <button
                                        onClick={addActivityBoth}
                                        className="bg-purple-500 text-white p-2 rounded-lg hover:bg-purple-600 transition-colors"
                                    >
                                        <Plus className="w-6 h-6" />
                                    </button>
                                </div>

                                <div className="space-y-2 max-h-32 overflow-y-auto">
                                    {activitiesBoth.map((activity, index) => (
                                        <div key={index} className="flex items-center justify-between bg-purple-50 p-3 rounded-lg">
                                            <span className="text-gray-800 flex-1 text-sm">{activity}</span>
                                            <button
                                                onClick={() => removeActivityBoth(index)}
                                                className="text-red-500 hover:text-red-700 transition-colors"
                                            >
                                                <Trash2 className="w-4 h-4" />
                                            </button>
                                        </div>
                                    ))}
                                </div>
                                <p className="text-xs text-gray-500">{activitiesBoth.length} activities added</p>
                            </div>

                            {/* Positions */}
                            <div className="space-y-3">
                                <h3 className="text-lg font-semibold text-gray-800 flex items-center gap-2">
                                    <Heart className="w-5 h-5 text-red-500 fill-red-500" />
                                    Intimate Positions
                                </h3>
                                <p className="text-xs text-gray-500">Your favorite positions to explore together</p>
                                
                                <div className="flex gap-2">
                                    <input
                                        type="text"
                                        value={positionInput}
                                        onChange={(e) => setPositionInput(e.target.value)}
                                        onKeyPress={(e) => e.key === 'Enter' && addPosition()}
                                        className="flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none"
                                        placeholder="e.g., Missionary"
                                    />
                                    <button
                                        onClick={addPosition}
                                        className="bg-red-500 text-white p-2 rounded-lg hover:bg-red-600 transition-colors"
                                    >
                                        <Plus className="w-6 h-6" />
                                    </button>
                                </div>

                                {/* Quick select presets */}
                                <div className="flex flex-wrap gap-2">
                                    {['Cowgirl', 'Doggy', 'Missionary', 'Reverse Cowgirl', 'Standing'].map((preset) => (
                                        <button
                                            key={preset}
                                            onClick={() => {
                                                if (!positions.includes(preset)) {
                                                    setPositions([...positions, preset]);
                                                }
                                            }}
                                            className="px-3 py-1 text-xs bg-red-50 text-red-700 rounded-full hover:bg-red-100 transition-colors border border-red-200"
                                        >
                                            + {preset}
                                        </button>
                                    ))}
                                </div>

                                <div className="space-y-2 max-h-32 overflow-y-auto">
                                    {positions.map((position, index) => (
                                        <div key={index} className="flex items-center justify-between bg-red-50 p-3 rounded-lg">
                                            <span className="text-gray-800 flex-1 text-sm">{position}</span>
                                            <button
                                                onClick={() => removePosition(index)}
                                                className="text-red-500 hover:text-red-700 transition-colors"
                                            >
                                                <Trash2 className="w-4 h-4" />
                                            </button>
                                        </div>
                                    ))}
                                </div>
                                <p className="text-xs text-gray-500">{positions.length} positions added</p>
                            </div>

                            {/* Finishers */}
                            <div className="space-y-3">
                                <h3 className="text-lg font-semibold text-gray-800 flex items-center gap-2">
                                    <Sparkles className="w-5 h-5 text-purple-500" />
                                    Grand Finale
                                </h3>
                                <p className="text-xs text-gray-500">Where {maleName} can finish</p>
                                
                                <div className="flex gap-2">
                                    <input
                                        type="text"
                                        value={finisherInput}
                                        onChange={(e) => setFinisherInput(e.target.value)}
                                        onKeyPress={(e) => e.key === 'Enter' && addFinisher()}
                                        className="flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"
                                        placeholder="e.g., On Face"
                                    />
                                    <button
                                        onClick={addFinisher}
                                        className="bg-purple-500 text-white p-2 rounded-lg hover:bg-purple-600 transition-colors"
                                    >
                                        <Plus className="w-6 h-6" />
                                    </button>
                                </div>

                                {/* Quick select presets */}
                                <div className="flex flex-wrap gap-2">
                                    {['Cum in Mouth', 'Cum on Face', 'Cum in Pussy', 'Cum in Ass', 'Cum on Titties', 'Cum on Ass', 'Cum on Feet'].map((preset) => (
                                        <button
                                            key={preset}
                                            onClick={() => {
                                                if (!finishers.includes(preset)) {
                                                    setFinishers([...finishers, preset]);
                                                }
                                            }}
                                            className="px-3 py-1 text-xs bg-purple-50 text-purple-700 rounded-full hover:bg-purple-100 transition-colors border border-purple-200"
                                        >
                                            + {preset}
                                        </button>
                                    ))}
                                </div>

                                <div className="space-y-2 max-h-32 overflow-y-auto">
                                    {finishers.map((finisher, index) => (
                                        <div key={index} className="flex items-center justify-between bg-purple-50 p-3 rounded-lg">
                                            <span className="text-gray-800 flex-1 text-sm">{finisher}</span>
                                            <button
                                                onClick={() => removeFinisher(index)}
                                                className="text-red-500 hover:text-red-700 transition-colors"
                                            >
                                                <Trash2 className="w-4 h-4" />
                                            </button>
                                        </div>
                                    ))}
                                </div>
                                <p className="text-xs text-gray-500">{finishers.length} options added</p>
                            </div>

                            <button
                                onClick={() => setScreen('review')}
                                className="w-full bg-gradient-to-r from-pink-500 to-purple-500 text-white py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all flex items-center justify-center gap-2"
                            >
                                Review & Start
                            </button>
                        </div>
                    </div>
                );
            }

            // Review Screen
            if (screen === 'review') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-pink-500 via-red-500 to-purple-600 p-4 overflow-y-auto pb-8">
                        <div className="w-full max-w-md mx-auto bg-white rounded-3xl shadow-2xl p-6 space-y-6 my-4">
                            <div className="text-center">
                                <h2 className="text-2xl font-bold text-gray-800">Review Your Setup</h2>
                                <p className="text-gray-600 text-sm mt-1">Everything looks good?</p>
                            </div>

                            <div className="space-y-4">
                                <div className="bg-gradient-to-r from-pink-50 to-purple-50 p-4 rounded-xl">
                                    <div className="flex items-center justify-between mb-2">
                                        <h3 className="font-semibold text-gray-800">Players</h3>
                                    </div>
                                    <p className="text-gray-700">{maleName} & {femaleName}</p>
                                </div>

                                <div className="bg-blue-50 p-4 rounded-xl">
                                    <h3 className="font-semibold text-gray-800 mb-2">Activities for {maleName}: {activitiesForHim.length}</h3>
                                    <div className="text-sm text-gray-600 space-y-1">
                                        {activitiesForHim.slice(0, 3).map((a, i) => (
                                            <div key={i}>â€¢ {a}</div>
                                        ))}
                                        {activitiesForHim.length > 3 && <div className="text-gray-500 italic">...and {activitiesForHim.length - 3} more</div>}
                                    </div>
                                </div>

                                <div className="bg-pink-50 p-4 rounded-xl">
                                    <h3 className="font-semibold text-gray-800 mb-2">Activities for {femaleName}: {activitiesForHer.length}</h3>
                                    <div className="text-sm text-gray-600 space-y-1">
                                        {activitiesForHer.slice(0, 3).map((a, i) => (
                                            <div key={i}>â€¢ {a}</div>
                                        ))}
                                        {activitiesForHer.length > 3 && <div className="text-gray-500 italic">...and {activitiesForHer.length - 3} more</div>}
                                    </div>
                                </div>

                                <div className="bg-purple-50 p-4 rounded-xl">
                                    <h3 className="font-semibold text-gray-800 mb-2">Both Together: {activitiesBoth.length}</h3>
                                    <div className="text-sm text-gray-600 space-y-1">
                                        {activitiesBoth.slice(0, 3).map((a, i) => (
                                            <div key={i}>â€¢ {a}</div>
                                        ))}
                                        {activitiesBoth.length > 3 && <div className="text-gray-500 italic">...and {activitiesBoth.length - 3} more</div>}
                                    </div>
                                </div>

                                <div className="bg-red-50 p-4 rounded-xl">
                                    <h3 className="font-semibold text-gray-800 mb-2">Positions: {positions.length}</h3>
                                    <div className="text-sm text-gray-600 space-y-1">
                                        {positions.slice(0, 3).map((p, i) => (
                                            <div key={i}>â€¢ {p}</div>
                                        ))}
                                        {positions.length > 3 && <div className="text-gray-500 italic">...and {positions.length - 3} more</div>}
                                    </div>
                                </div>

                                <div className="bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-xl">
                                    <h3 className="font-semibold text-gray-800 mb-2">Finale Options: {finishers.length}</h3>
                                    <div className="text-sm text-gray-600 space-y-1">
                                        {finishers.slice(0, 3).map((f, i) => (
                                            <div key={i}>â€¢ {f}</div>
                                        ))}
                                        {finishers.length > 3 && <div className="text-gray-500 italic">...and {finishers.length - 3} more</div>}
                                    </div>
                                </div>
                            </div>

                            <div className="flex gap-3">
                                <button
                                    onClick={() => setScreen('setup')}
                                    className="flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl font-medium hover:bg-gray-300 transition-colors flex items-center justify-center gap-2"
                                >
                                    <Edit className="w-5 h-5" />
                                    Edit
                                </button>
                                <button
                                    onClick={startGame}
                                    className="flex-1 bg-gradient-to-r from-pink-500 to-purple-500 text-white py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all flex items-center justify-center gap-2"
                                >
                                    <Play className="w-5 h-5" />
                                    Start Game
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Game Screen - Break Period
            if (isBreak) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-pink-500 via-red-500 to-purple-600 p-4 flex items-center justify-center">
                        <div className="w-full max-w-md bg-white rounded-3xl shadow-2xl p-8 space-y-6">
                            <div className="text-center space-y-2">
                                <div className="flex justify-center mb-2">
                                    <PulsingHeart size="w-12 h-12" />
                                </div>
                                <div className="bg-gradient-to-r from-pink-500 to-red-500 text-white px-4 py-2 rounded-full text-xs font-semibold shadow-lg">
                                    {maleName} will finish {selectedFinisher}
                                </div>
                                <div className="text-gray-600 text-sm">
                                    {maleName} & {femaleName}
                                </div>
                            </div>

                            <div className="text-center space-y-4">
                                <div className="inline-block">
                                    <CoupleSilhouette />
                                </div>
                                
                                <div>
                                    <h3 className="text-sm font-medium text-gray-500 uppercase tracking-wide mb-2">
                                        {currentType === 'position' ? 'ðŸ’• Next Position' :
                                         currentType === 'him' ? `ðŸ”¥ ${maleName}'s Turn` :
                                         currentType === 'her' ? `ðŸ’– ${femaleName}'s Turn` :
                                         'ðŸ’‘ Both Together'}
                                    </h3>
                                    <p className="text-2xl font-bold text-gray-800 min-h-[4rem] flex items-center justify-center px-4">
                                        {currentActivity}
                                    </p>
                                </div>

                                <div className="bg-gradient-to-r from-orange-100 to-yellow-100 rounded-2xl p-8">
                                    <Clock className="w-8 h-8 mx-auto mb-3 text-orange-600" />
                                    <div className="text-6xl font-bold text-gray-800 tracking-tight">
                                        {breakTime}
                                    </div>
                                    <p className="text-sm text-gray-600 mt-2">Starting in...</p>
                                </div>

                                <button
                                    onClick={forceStart}
                                    className="w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all flex items-center justify-center gap-2"
                                >
                                    <Play className="w-6 h-6" />
                                    Start Now
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Game Screen - Activity Running
            return (
                <div className="min-h-screen bg-gradient-to-br from-pink-500 via-red-500 to-purple-600 p-4 flex items-center justify-center">
                    <div className="w-full max-w-md bg-white rounded-3xl shadow-2xl p-8 space-y-8">
                        <div className="text-center space-y-2">
                            <div className="flex justify-center mb-2">
                                <PulsingHeart size="w-12 h-12" />
                            </div>
                            <div className="bg-gradient-to-r from-pink-500 to-red-500 text-white px-4 py-2 rounded-full text-xs font-semibold shadow-lg">
                                {maleName} will finish {selectedFinisher}
                            </div>
                            <div className="text-gray-600 text-sm">
                                {maleName} & {femaleName}
                            </div>
                        </div>

                        <div className="text-center space-y-4">
                            <div className="inline-block">
                                <CoupleSilhouette />
                            </div>
                            
                            <div>
                                <h3 className="text-sm font-medium text-gray-500 uppercase tracking-wide mb-2">
                                    {currentType === 'position' ? 'ðŸ’• Current Position' :
                                     currentType === 'him' ? `ðŸ”¥ ${maleName}'s Turn` :
                                     currentType === 'her' ? `ðŸ’– ${femaleName}'s Turn` :
                                     'ðŸ’‘ Both Together'}
                                </h3>
                                <p className="text-2xl font-bold text-gray-800 min-h-[4rem] flex items-center justify-center px-4">
                                    {currentActivity}
                                </p>
                            </div>

                            <div className="bg-gradient-to-r from-pink-100 to-purple-100 rounded-2xl p-8">
                                <Clock className="w-8 h-8 mx-auto mb-3 text-gray-600" />
                                <div className="text-6xl font-bold text-gray-800 tracking-tight">
                                    {formatTime(timeRemaining)}
                                </div>
                                <p className="text-sm text-gray-600 mt-2">Time Remaining</p>
                            </div>
                        </div>

                        <button
                            onClick={skipToNext}
                            className="w-full bg-gradient-to-r from-pink-500 via-purple-500 to-pink-500 text-white py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all flex items-center justify-center gap-2"
                        >
                            <SkipForward className="w-5 h-5" />
                            Next Up
                        </button>

                        <button
                            onClick={() => {
                                setIsRunning(false);
                                setScreen('welcome');
                                setActivitiesForHim([]);
                                setActivitiesForHer([]);
                                setActivitiesBoth([]);
                                setPositions([]);
                                setFinishers([]);
                                setSelectedFinisher('');
                                setRoundNumber(1);
                                setMaleName('');
                                setFemaleName('');
                            }}
                            className="w-full bg-gray-200 text-gray-700 py-3 rounded-xl font-medium hover:bg-gray-300 transition-colors"
                        >
                            End Game
                        </button>
                    </div>
                </div>
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<LoveRoulette />);
    </script>
</body>
</html>
